OS 정리 14
========

Chapter 8 - Memory Management
--------------

### Background

* CPU 스케줄링의 결과로, 우리는 다음 두개를 개선시킬 수 있다.
  * CPU 사용률
  * 컴퓨터의 사용자에 대한 반응 속도
* 이 성능 향상을 실현하기 위해서 우리는 _주 메모리에 여러개의 프로세스가 올라와 있도록_ 관리해야한다.
* 프로그램은 실행되기 위하여 반드시 메모리에 올라와서 프로세스들 사이에 위치해야한다.
  * 각 프로세스들은 _분리된 메모리 공간_ 을 가지고 있다. 이를 위해 특정 프로세스만 접근할 수 있는 합법적 메모리 주소 영역이 설정되어있어야 한다.
  * `Base register` 와 `limit register` 는 물리 메모리에서 프로세스의 주소영역을 결정하는데에 필요하다.
  * 기준 레지스터는 가장 작은 합법적인 물리 메모리 주소값을 저장한다( 영역의 최소 주소를 가리킨다)
  * 상한 레지스터는 프로세스 주소 공간의 크기를 저장한다. (영역의 offset을 저장함으로써 영역 상한을 가리킨다)

<center><img src="./img/A base and a limit register.png" style="width:60vw;"></img></center>



#### H/W address protection with base and limit register

* __메모리 공간 보호__ 는 CPU 하드웨어가 사용자모드에서 만들어진 모든 주소와 레지스터(기준/상한)을 비교함으로써 이루어진다.
* 사용자 모드에서 실행되는 프로그램에 의해 운영체제의 메모리공간이나 다른 사용자  프로그램의 메모리공간으로__불법적인 메모리접근__ 이 일어나면  OS는 이를 치명적인 에러로 간주하고 __trap__ 을 발동시킨다.

<center><img src="./img/addressing error.png" style="width:60vw;"></img></center>



#### 

